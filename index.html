<!doctype html>
<html>
    <head>
        <meta charset="utf-8">

        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/leaflet.locatecontrol/0.60.0/L.Control.Locate.min.css" />
        <style>
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
                width: 100%;
            }

            #map {
                height: 100%;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>

        <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
        <script src="https://stamen-maps.a.ssl.fastly.net/js/tile.stamen.js"></script>
        <script src="https://cdn.jsdelivr.net/leaflet.locatecontrol/0.60.0/L.Control.Locate.min.js"></script>

        <script>
            var map = L.map('map').setView([40.65824, -73.96572], 18);
            var baseLayer = new L.StamenTileLayer('terrain').addTo(map);
            L.control.locate().addTo(map);

            var request = new XMLHttpRequest();
            request.open('GET', 'https://gist.githubusercontent.com/ebrelsford/656a454940b6e16c4875108342565f8d/raw/afecab28e5a38fc0a3506e12f048dab2dad1fc68/map.geojson', true);

            request.onload = function() {
              if (request.status >= 200 && request.status < 400) {
                var picnicLocation = JSON.parse(request.responseText);
                L.geoJson(picnicLocation, {
                    style: {
                        color: '#e812d2',
                        weight: 2
                    }
                }).addTo(map);
              }
              else {
                console.warn("Couldn't load GeoJSON:", request.status);
              }
            };

            request.onerror = function() {
                console.warn("Couldn't load GeoJSON: ", request.status);
            };

            request.send();
        </script>
    </body>
</html>
